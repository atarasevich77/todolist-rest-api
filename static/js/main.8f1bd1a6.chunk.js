(this["webpackJsonptodo-with-rest-api"]=this["webpackJsonptodo-with-rest-api"]||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},19:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(12),r=n.n(c),l=(n(19),n(20),n(2)),u=n(13),i=n.n(u).a.create({baseURL:"http://localhost:5000",timeout:1e3,headers:{}}),s=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],u=Object(a.useState)(""),i=Object(l.a)(u,2),s=i[0],m=i[1];return o.a.createElement("form",{className:"form-inline"},o.a.createElement("div",{className:"form-group mb-2"},o.a.createElement("input",{type:"text",className:"form-control",value:c,onChange:function(e){return r(e.target.value)},placeholder:"Title"})),o.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},o.a.createElement("input",{type:"text",className:"form-control",value:s,onChange:function(e){return m(e.target.value)},placeholder:"Description"})),o.a.createElement("button",{className:"btn btn-success mb-2",onClick:function(t){t.preventDefault(),e.createTodo({name:c,desc:s}),r(""),m("")}},"Add"))},m=o.a.createElement("svg",{className:"bi bi-x-square",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"})),d=o.a.createElement("svg",{className:"bi bi-check-square",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"})),p=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),c=Object(a.useState)(e.todo),r=Object(l.a)(c,2),u=r[0],i=r[1],s=Object(a.useState)(e.todo.name),p=Object(l.a)(s,2),f=p[0],h=p[1],g=Object(a.useState)(e.todo.description),E=Object(l.a)(g,2),v=E[0],b=E[1],w=Object(a.useState)(""),N=Object(l.a)(w,2),j=N[0],O=N[1],x={textDecoration:u.done?"line-through":"",color:u.done?"green":""},k=function(e){O(e)},C=function(t){t.preventDefault(),u.name=f,u.description=v,e.onUpdate(u),i(u),O("")},y=function(){i(e.todo),h(e.todo.name),b(e.todo.description),O("")},D=function(e){t.current.contains(e.target)||n.current.contains(e.target)||y()};return Object(a.useEffect)((function(){return document.addEventListener("mousedown",D),function(){return document.removeEventListener("mousedown",D)}}),[u]),o.a.createElement(o.a.Fragment,null,o.a.createElement("td",null,o.a.createElement("input",{type:"checkbox",className:"mt-3",value:u.done,onChange:function(t){u.done=t.target.checked,e.onStatusChange(u)},checked:u.done})),o.a.createElement("td",{className:"w-50",ref:function(e){return t.current=e}},"name"===j?o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",className:"form-control","aria-label":"Title",value:f,onChange:function(e){return h(e.target.value)}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text",onClick:y},m),o.a.createElement("span",{className:"input-group-text",onClick:C},d))):o.a.createElement("span",{className:"input-group-text",onDoubleClick:function(){return k("name")},style:x},f)),o.a.createElement("td",{className:"w-50",ref:function(e){return n.current=e}},"desc"===j?o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",className:"form-control","aria-label":"Description",value:v,onChange:function(e){return b(e.target.value)}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text",onClick:y},m),o.a.createElement("span",{className:"input-group-text",onClick:C},d))):o.a.createElement("span",{className:"input-group-text",onDoubleClick:function(){return k("desc")},style:x},v)),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-secondary ml-auto",onClick:function(){e.onDelete(u._id)}},"Delete")))};var f=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),u=Object(l.a)(r,2),m=u[0],d=u[1],f={color:n?"green":"red"},h=function(){i.get("/todo").then((function(e){d(e.data),c(!0)})).catch((function(e){console.log(e),c(!1)}))},g=function(e){i.put("/todo/".concat(e._id),{done:e.done}).then((function(){h()})).catch((function(e){return console.log(e)}))},E=function(e){i.patch("/todo/".concat(e._id),{name:e.name,description:e.description,done:e.done}).then((function(){h()})).catch((function(e){return console.log(e)}))},v=function(e){i.delete("/todo/".concat(e)).then((function(){h()})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){h()}),[]),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row justify-content-sm-end p-2"},"Server status: \xa0 ",o.a.createElement("span",{style:f},n?"OK":"Down")),o.a.createElement("h1",{className:"text-center p-2"},"ToDo list ",(new Date).toDateString()),o.a.createElement("div",{className:"row justify-content-center p-2"},o.a.createElement(s,{createTodo:function(e){i.post("/todo",{name:e.name,description:e.desc}).then((function(){h()})).catch((function(e){return console.log(e)}))}})),o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("table",{className:"table w-75"},o.a.createElement("tbody",null,m.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement(p,{todo:e,onStatusChange:g,onUpdate:E,onDelete:v}))}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.8f1bd1a6.chunk.js.map